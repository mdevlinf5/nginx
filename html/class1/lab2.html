<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>3. Lab 2: Deploying an AWS VPC Site</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="3. Lab 2: Deploying an AWS VPC Site"/>
  <meta name="product" content="F5 Distributed Cloud"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2023-02-22 21:42:02"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Distributed Cloud" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Lab 2: Deploying an AWS VPC Site &#8212; F5 Distributed Cloud  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" href="../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Lab 3: Protecting a Private Endpoint" href="lab3.html" />
    <link rel="prev" title="2. Lab 1: Protecting a Public Endpoint" href="lab1.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Distributed Cloud  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="class1.html">F5 Distributed Cloud 101 - WAF/WAAP Deployment Models</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="class1.html#lab-tasks">Lab &amp; Tasks:</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="intro.html">1. Introduction: Accessing F5 Distributed Cloud Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="lab1.html">2. Lab 1: Protecting a Public Endpoint</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3. Lab 2: Deploying an AWS VPC Site</a></li>
<li class="toctree-l3"><a class="reference internal" href="lab3.html">4. Lab 3: Protecting a Private Endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="lab4.html">5. (Optional) Lab 4: Fine Tuning a WAF Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="close.html">6. Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="close.html#appendix">7. Appendix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../class2/class2.html">F5 Distributed Cloud  102 - WAF/WAAP Deeper Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class3/class3.html">F5 Distributed Cloud 103 - Advanced BoT Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class4/class4.html">F5 Distributed Cloud 201 - Intro to Multi-Cloud Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class5/class5.html">F5 Distributed Cloud 301 - Introduction to Managed Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class6/class6.html">F5 Distributed Cloud 212 - Advanced Client Side Defense</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class7/class7.html">F5 Distributed Cloud 211 - Application Traffic Insight</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">3. Lab 2: Deploying an AWS VPC Site</a><ul>
<li><a class="reference internal" href="#f5-distributed-cloud-aws-vpc-site">3.1. F5 Distributed Cloud AWS VPC Site</a><ul>
<li><a class="reference internal" href="#exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site">3.1.1. Exercise 1: Introduction to F5 Distributed Cloud AWS VPC Site</a></li>
<li><a class="reference internal" href="#exercise-2-optional-f5-f5-distributed-cloud-simulator">3.1.2. Exercise 2 (Optional): F5 F5 Distributed Cloud Simulator</a></li>
<li><a class="reference internal" href="#video-walkthrough">3.1.3. Video Walkthrough</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../index.html">F5 Distributed Cloud</a>
              &gt; <a href="class1.html">F5 Distributed Cloud 101 - WAF/WAAP Deployment Models</a>

          <span class="right">
             <a href="../_sources/class1/lab2.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-xc">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-2-deploying-an-aws-vpc-site">
<h1><span class="section-number">3. </span>Lab 2: Deploying an AWS VPC Site<a class="headerlink" href="#lab-2-deploying-an-aws-vpc-site" title="Permalink to this heading">¶</a></h1>
<p>In the previous lab you learned how to protect a resource that is already on the Public Internet.</p>
<p>In this next lab we will look at two additional topologies of how you can use a “AppMesh” node
to secure traffic that is going to an endpoint that is not directly exposed to the Internet.</p>
<div class="section" id="f5-distributed-cloud-aws-vpc-site">
<h2><span class="section-number">3.1. </span>F5 Distributed Cloud AWS VPC Site<a class="headerlink" href="#f5-distributed-cloud-aws-vpc-site" title="Permalink to this heading">¶</a></h2>
<p>In additional to using the F5 Distributed Cloud WAF from an F5 Regional Edge / PoP location
you can also deploy a “AppMesh” node that enables you to access networks that
are not directly connected to the Internet and/or enforce WAF policies locally
within the local network.</p>
<p>When we deploy AppMesh outside of a Regional Edge we refer to these locations as a
“Customer Edge”.  In the following exercise we will review the process to
deploy a Customer Edge.  In our existing lab environment we have already deployed
a shared F5 Distributed Cloud AWS VPC Site.</p>
<p>Once an AppMesh node has been deployed as a Customer Edge it helps provide two
additional topologies for F5 Distributed Cloud WAF protection.</p>
<ol class="arabic simple">
<li>Enabling F5 Distributed Cloud to proxy and protect internal services from our Regional Edge (additional DDoS protection, and AnyCast availability) even though it is not directly exposed to the internet.</li>
<li>Allow F5 Distributed Cloud to provide WAF protection for “internal” and/or “local” systems</li>
</ol>
<div class="section" id="exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site">
<h3><span class="section-number">3.1.1. </span>Exercise 1: Introduction to F5 Distributed Cloud AWS VPC Site<a class="headerlink" href="#exercise-1-introduction-to-f5-distributed-cloud-aws-vpc-site" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p class="first">Start in F5 Distributed Cloud Console and find the “AWS VPC Sites” menu item.</p>
<p>From the top left “Select service” and look under “All Services”-&gt;”Cloud and Edge Sites”</p>
</li>
<li><p class="first">Go to Manage &gt; Site Management &gt; AWS VPC Sites</p>
<a class="reference internal image-reference" href="../_images/menu-cloud-edge-sites.png"><img alt="../_images/menu-cloud-edge-sites.png" src="../_images/menu-cloud-edge-sites.png" style="width: 75%;" /></a>
</li>
<li><p class="first">Find the “student-awsnet” site</p>
<p>In this lab environment we have already deployed a shared AWS VPC Site that we will
use in this lab.  Click on the “student-awsnet”</p>
<p>You will be able to observe several metrics about the health of the site.</p>
<img alt="../_images/student-awsnet-site-metrics.png" src="../_images/student-awsnet-site-metrics.png" />
</li>
<li><p class="first">Browse back to “AWS VPC Sites”</p>
<p>In this deployment an AppMesh node has been deployed into an existing VPC in our
shared AWS lab environment.</p>
<p>AppMesh nodes can also be deployed into VMWare and KVM environments as well through
a site registration process.</p>
</li>
</ol>
</div>
<div class="section" id="exercise-2-optional-f5-f5-distributed-cloud-simulator">
<h3><span class="section-number">3.1.2. </span>Exercise 2 (Optional): F5 F5 Distributed Cloud Simulator<a class="headerlink" href="#exercise-2-optional-f5-f5-distributed-cloud-simulator" title="Permalink to this heading">¶</a></h3>
<p>During this lab we will not deploy a new AWS VPC Site.  If you would like to learn
more about deploying an AWS VPC Site via F5 Distributed Cloud you may want to try using the
following F5 F5 Distributed Cloud Simulator:</p>
<ul class="simple">
<li><a class="reference external" href="https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield">https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield</a></li>
</ul>
<p>You can emulate the steps that were used to create the F5 Distributed Cloud VPC Site in the lab environment by starting
with the “3. Connect AWS VPC Site” <a class="reference external" href="https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield/nav/aws/005/0">https://simulator.f5.com/s/cloud2cloud_via_sites_brownfield/nav/aws/005/0</a></p>
<p>Clicking on the “Next” button in the top right will allow you to see similar steps that were used to create the site.</p>
<a class="reference internal image-reference" href="../_images/f5xc-simulator-vpc-site.png"><img alt="../_images/f5xc-simulator-vpc-site.png" src="../_images/f5xc-simulator-vpc-site.png" style="width: 50%;" /></a>
</div>
<div class="section" id="video-walkthrough">
<h3><span class="section-number">3.1.3. </span>Video Walkthrough<a class="headerlink" href="#video-walkthrough" title="Permalink to this heading">¶</a></h3>
<p>Optional Video you can watch if you get stuck</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s-BHH0Qayfc?start=244" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="lab1.html" title="2. Lab 1: Protecting a Public Endpoint" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab3.html" title="4. Lab 3: Protecting a Private Endpoint" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../_static/js/index.js"></script>
  <script src="../_static/js/jquery.appear.js"></script>
  <script src="../_static/js/printThis.js"></script>
  <script src="../_static/js/bootstrap.min.js"></script>
  <script src="../_static/js/clouddocs.js"></script>
  <script src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>