<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>4. Lab 3: Exploring Service Policies</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="4. Lab 3: Exploring Service Policies"/>
  <meta name="product" content="F5 Distributed Cloud"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2023-02-22 21:42:02"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Distributed Cloud" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>4. Lab 3: Exploring Service Policies &#8212; F5 Distributed Cloud  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" href="../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Conclusion" href="close.html" />
    <link rel="prev" title="3. Lab 2: Reviewing Signature-based Bot Strategies and enabling F5 Distributed Cloud BotDefense" href="lab2.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Distributed Cloud  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../class1/class1.html">F5 Distributed Cloud 101 - WAF/WAAP Deployment Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="class2.html">F5 Distributed Cloud  102 - WAF/WAAP Deeper Dive</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="class2.html#welcome">Welcome</a></li>
<li class="toctree-l2"><a class="reference internal" href="class2.html#objective">Objective:</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="class2.html#lab-tasks">Lab &amp; Tasks:</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="intro.html">1. Introduction: Accessing F5 Distributed Cloud Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="lab1.html">2. Lab 1: Deploying and Managing F5 Distributed Cloud Web Application Firewall Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="lab2.html">3. Lab 2: Reviewing Signature-based Bot Strategies and enabling F5 Distributed Cloud BotDefense</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">4. Lab 3: Exploring Service Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="close.html">5. Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="close.html#appendix">6. Appendix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../class3/class3.html">F5 Distributed Cloud 103 - Advanced BoT Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class4/class4.html">F5 Distributed Cloud 201 - Intro to Multi-Cloud Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class5/class5.html">F5 Distributed Cloud 301 - Introduction to Managed Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class6/class6.html">F5 Distributed Cloud 212 - Advanced Client Side Defense</a></li>
<li class="toctree-l1"><a class="reference internal" href="../class7/class7.html">F5 Distributed Cloud 211 - Application Traffic Insight</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">4. Lab 3: Exploring Service Policies</a><ul>
<li><a class="reference internal" href="#task-1-creating-local-namespace-service-policies">4.1. Task 1: Creating Local Namespace Service Policies</a></li>
<li><a class="reference internal" href="#task-2-attaching-service-policies-and-configuring-ip-reputation">4.2. Task 2: Attaching Service Policies and configuring IP Reputation</a></li>
<li><a class="reference internal" href="#task-3-observing-route-configurations">4.3. Task 3: Observing Route Configurations</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../index.html">F5 Distributed Cloud</a>
              &gt; <a href="class2.html">F5 Distributed Cloud 102 - WAF/WAAP Deeper Dive</a>

          <span class="right">
             <a href="../_sources/class2/lab3.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-xc">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-3-exploring-service-policies">
<h1><span class="section-number">4. </span>Lab 3: Exploring Service Policies<a class="headerlink" href="#lab-3-exploring-service-policies" title="Permalink to this heading">¶</a></h1>
<p>The following lab tasks will guide you the configuration of various Service Policies
which can be used to implement a variety of security controls.</p>
<div class="section" id="task-1-creating-local-namespace-service-policies">
<h2><span class="section-number">4.1. </span>Task 1: Creating Local Namespace Service Policies<a class="headerlink" href="#task-1-creating-local-namespace-service-policies" title="Permalink to this heading">¶</a></h2>
<p>In this task you will add geo-filter and allowed-ip based service policies.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic">
<li><p class="first">In the left-hand navigation menu, expand the <strong>Security</strong> section and click <strong>Service</strong></p>
<p><strong>Policies</strong>. In the flyout menu, click the <strong>Service Policies</strong> link.</p>
</li>
<li><p class="first">Observe the existing Service Policies and note they are source from the <strong>shared</strong></p>
<p>namespace which means they could be used within any other namespace.</p>
</li>
<li><p class="first">Click <strong>Add Service Policy</strong> in the top left area as shown.</p>
</li>
</ol>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p><em>Using shared namespace Service Policies provides the ability to use API-updated</em></p>
<p class="last"><em>policy controls to implement common service security across multiple resources.</em></p>
</div>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-001.png"><img alt="lab001" src="../_images/lab3-001.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-002.png"><img alt="lab002" src="../_images/lab3-002.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="4">
<li><p class="first">In the <strong>Metadata</strong> section enter <strong>geo-filter</strong> for the <strong>Name</strong> and then click <strong>Rules</strong></p>
<p>in the left-hand navigation.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-003.png"><img alt="lab003" src="../_images/lab3-003.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="5">
<li><p class="first">Select <strong>Denied Sources</strong> from the dropdown for <strong>Select Policy Rules</strong>, then locate the</p>
<p><strong>Country List</strong> input field.</p>
</li>
<li><p class="first">Begin typing <strong>Fiji</strong> and then select it from the list that appears.</p>
</li>
<li><p class="first">Click the dropdown for <strong>Default Action</strong>. Observe the available options and select</p>
<p><strong>Next Policy</strong> then click <strong>Save and Exit</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-004.png"><img alt="lab004" src="../_images/lab3-004.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-005.png"><img alt="lab005" src="../_images/lab3-005.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-006.png"><img alt="lab006" src="../_images/lab3-006.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="8">
<li>Observe the resulting added <strong>geo-filter</strong> Service Policy added in your namespace.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-007.png"><img alt="lab007" src="../_images/lab3-007.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="9">
<li><p class="first">Open another tab in your browser (Chrome shown), navigate to <a class="reference external" href="https://ipinfo.io">https://ipinfo.io</a> and note</p>
<p>your IP address as shown. (example provided)</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-008.png"><img alt="lab008" src="../_images/lab3-008.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="10">
<li>Return to the <strong>Service Policies</strong> window and click <strong>Add Service Policy</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-009.png"><img alt="lab009" src="../_images/lab3-009.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="11">
<li><p class="first">In the <strong>Metadata</strong> section enter <strong>allowed-ip</strong> for the <strong>Name</strong> and then click</p>
<p><strong>Rules</strong> in the left-hand navigation.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-010.png"><img alt="lab010" src="../_images/lab3-010.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic" start="12">
<li><p class="first">Select <strong>Allowed Sources</strong> from the dropdown for <strong>Select Policy Rules</strong>, then locate the</p>
<p><strong>IPv4 Prefix List</strong> configuration section and click <strong>Configure</strong>.</p>
</li>
</ol>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p><em>The section just below “List of IP Prefix Set” allows you to build a collection of</em></p>
<p class="last"><em>of various IP lists which can be maintained through API controls.</em></p>
</div>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-011.png"><img alt="lab011" src="../_images/lab3-011.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="13">
<li><p class="first">Enter your IP address captured in Step 9 above with mask notation (//32)as shown then</p>
<p>click the <strong>Apply</strong> button.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-012.png"><img alt="lab012" src="../_images/lab3-012.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="14">
<li><p class="first">In the resulting window, click the dropdown for <strong>Default Action</strong>, and select <strong>Deny</strong></p>
<p>then click <strong>Save and Exit</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-013.png"><img alt="lab013" src="../_images/lab3-013.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-014.png"><img alt="lab014" src="../_images/lab3-014.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="15">
<li>Observe the resulting added <strong>allowed-ip</strong> Service Policy added in your namespace.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-015.png"><img alt="lab015" src="../_images/lab3-015.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-2-attaching-service-policies-and-configuring-ip-reputation">
<h2><span class="section-number">4.2. </span>Task 2: Attaching Service Policies and configuring IP Reputation<a class="headerlink" href="#task-2-attaching-service-policies-and-configuring-ip-reputation" title="Permalink to this heading">¶</a></h2>
<p>The following steps will enable you to attach Service Policies to your configured Load Balancer.</p>
<p>It will also help you understand additional approaches for Service Policies.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Return to the Load Balancer in the F5 Distributed Cloud Console, <em>Manage &gt; Load Balancer</em></p>
<p><em>&gt; HTTP Load Balancers</em> and use the <strong>Action Dots</strong> and click <strong>Manage Configuration</strong></p>
</li>
<li><p class="first">Click <strong>Edit Configuration</strong> in the top right-hand corner.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-016.png"><img alt="lab016" src="../_images/lab3-016.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-017.png"><img alt="lab017" src="../_images/lab3-017.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-018.png"><img alt="lab018" src="../_images/lab3-018.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="3">
<li>Click <strong>Security Configuration</strong> in the left-hand navigation.</li>
<li>From the <strong>Service Policies</strong> dropdown, select <strong>Apply Specified Service Policies</strong>.</li>
<li>In the added menu for <strong>Apply Specified Service Policies</strong>, click <strong>Configure</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-019.png"><img alt="lab019" src="../_images/lab3-019.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-020.png"><img alt="lab020" src="../_images/lab3-020.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-021.png"><img alt="lab021" src="../_images/lab3-021.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">In the resulting <strong>Policies</strong> window, use the <strong>List of Policies</strong> dropdown to select</p>
<p>your <strong>&lt;namespace&gt;/geo-filter</strong> Service Policy. Then click <strong>Apply</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-022.png"><img alt="lab022" src="../_images/lab3-022.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="7">
<li><p class="first">Returning to the Load Balancer window, you will note the changes shown in your</p>
<p><strong>Service Policies</strong> section.</p>
</li>
<li><p class="first">As we are already in this section, we will go ahead and add IP reputation filtering. This</p>
<p>can be added as a Service Policy (shared or local namespace) or as a direct configuration.</p>
</li>
<li><p class="first">To start, the IP Reputation configuration, locate the IP Reputation section and click the</p>
<p>dropdown menu, then select <strong>Enable</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-023.png"><img alt="lab023" src="../_images/lab3-023.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-024.png"><img alt="lab024" src="../_images/lab3-024.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="10">
<li><p class="first">Using the <strong>List of IP Threat Categories to choose</strong> you may add any of the configured</p>
<p>Threat categories.</p>
</li>
<li><p class="first">Select <strong>Spam Sources</strong> and <strong>Tor Proxy</strong>, then scroll to the bottom of the window and</p>
<p>click the <strong>Save and Exit</strong> button.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-025.png"><img alt="lab025" src="../_images/lab3-025.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-026.png"><img alt="lab026" src="../_images/lab3-026.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-027.png"><img alt="lab027" src="../_images/lab3-027.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-028.png"><img alt="lab028" src="../_images/lab3-028.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="12">
<li><p class="first">In your browser (Chrome shown), navigate to your application/Load Balancer configuration:</p>
<p><strong>http://&lt;namespace&gt;.lab-sec.f5demos.com</strong>.</p>
</li>
<li><p class="first">You should receive a 403 Forbidden error.  This is due to a Service Policy configuration</p>
<p>error.  Because we only attached the <strong>geo-filter</strong> Service Policy and the <strong>Default</strong></p>
<p><strong>Action</strong> was <strong>Next Policy</strong>, there is no other or next policy to “Allow” traffic,</p>
<p>therefore, all other traffic is disallowed producing the 403.  This is will also show in</p>
<p>the <strong>Security Events</strong> window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-029.png"><img alt="lab029" src="../_images/lab3-029.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="14">
<li><p class="first">Return to the Load Balancer in the F5 Distributed Cloud Console, <em>Manage &gt; Load Balancer</em></p>
<p><em>&gt; HTTP Load Balancers</em> and use the <strong>Action Dots</strong> and click <strong>Manage Configuration</strong></p>
</li>
<li><p class="first">Click <strong>Edit Configuration</strong> in the top right-hand corner.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-030.png"><img alt="lab030" src="../_images/lab3-030.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="16">
<li>Click <strong>Security Configuration</strong> in the left-hand navigation.</li>
<li>From the <strong>Service Policies</strong> section, click <strong>Edit Configuration</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-031.png"><img alt="lab031" src="../_images/lab3-031.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic" start="18">
<li><p class="first">In the resulting window click <strong>Add Item</strong> and from the dropdown select you allow-ip</p>
<p>Service Policy <strong>&lt;namespace&gt;/allowed-ip</strong>.</p>
</li>
</ol>
<ol class="arabic" start="20">
<li><p class="first">Observe the order. Service Policies must be ordered correctly in a order to process</p>
<p>traffic as intended.  Click <strong>Apply</strong> when completed.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><em>Because the “allowed-ip” begins with an allowed ip (yours) and ends in a “Deny” a</em></p>
<p><em>positive security model will be applied (denying all other traffic).  Similar positive or</em></p>
<p class="last"><em>negative service policies can be created and applied (Headers, methods, file types, etc)</em></p>
</div>
<ol class="last arabic simple" start="21">
<li>Scroll to the bottom of the HTTP Load Balancer configuration and click <strong>Save and Exit</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-032.png"><img alt="lab032" src="../_images/lab3-032.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-033.png"><img alt="lab033" src="../_images/lab3-033.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-034.png"><img alt="lab034" src="../_images/lab3-034.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="22">
<li><p class="first">In your browser (Chrome shown), navigate to your application/Load Balancer configuration:</p>
<p><strong>http://&lt;namespace&gt;.lab-sec.f5demos.com</strong>. You should now be able to successfully</p>
<p>access the application.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-035.png"><img alt="lab035" src="../_images/lab3-035.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-3-observing-route-configurations">
<h2><span class="section-number">4.3. </span>Task 3: Observing Route Configurations<a class="headerlink" href="#task-3-observing-route-configurations" title="Permalink to this heading">¶</a></h2>
<p>The following steps will enable you to attach Service Policies to your configured Load Balancer.
It will also help you understand additional approaches for Service Policies.</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Return to the Load Balancer in the F5 Distributed Cloud Console, <em>Manage &gt; Load Balancer</em></p>
<p><em>&gt; HTTP Load Balancers</em> and use the <strong>Action Dots</strong> and click <strong>Manage Configuration</strong></p>
</li>
<li><p class="first">Click <strong>Edit Configuration</strong> in the top right-hand corner.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-036.png"><img alt="lab036" src="../_images/lab3-036.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-037.png"><img alt="lab037" src="../_images/lab3-037.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="3">
<li>Click <strong>Routes Configuration</strong> in the left-hand navigation.</li>
<li>Toggle the <strong>Show Advanced Fields</strong> button to the <strong>On</strong> position.</li>
<li>Under the <strong>Routes</strong> section, click <strong>Configure</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/lab3-038.png"><img alt="lab038" src="../_images/lab3-038.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">In <strong>Routes</strong>, click the <strong>Add Item</strong> link.</p>
</li>
<li><p class="first">In the resulting menu, toggle the <strong>Show Advanced Fields</strong> button to the <strong>On</strong> position.</p>
</li>
<li><p class="first">Observe the various route types and matching criteria controls that can be leveraged to</p>
<p>securely control access, perform pool targeting, make path responses or develop custom</p>
<p>control to secure protected applications.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../_images/lab3-039.png"><img alt="lab039" src="../_images/lab3-039.png" style="width: 800px;" /></a></p>
<p><a class="reference internal" href="../_images/lab3-040.png"><img alt="lab040" src="../_images/lab3-040.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../_images/lab3-041.png"><img alt="lab041" src="../_images/lab3-041.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><p class="first"><strong>End of Lab 3:</strong>  This concludes Lab 3, feel free to review and test the configuration.</p>
<p class="last">A Q&amp;A session will begin shortly to conclude the overall lab.</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../_images/labend.png"><img alt="labend" src="../_images/labend.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="lab2.html" title="3. Lab 2: Reviewing Signature-based Bot Strategies and enabling F5 Distributed Cloud BotDefense" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="close.html" title="5. Conclusion" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../_static/js/index.js"></script>
  <script src="../_static/js/jquery.appear.js"></script>
  <script src="../_static/js/printThis.js"></script>
  <script src="../_static/js/bootstrap.min.js"></script>
  <script src="../_static/js/clouddocs.js"></script>
  <script src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>